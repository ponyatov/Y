%{
#include "dura.hpp"
%}

%defines

%union {
	char c;
	string *s;
	biObject *o;
}

%token <c> C EOL QX SX LP RP
%token <o> SYM MODULE FFILE FEOF DIRECTIVE
%type <o> ex

%%
dura: 
	| dura MODULE EOL		{ W($2); }
	| dura FFILE EOL		{ W($2,false); W($3,false); }
	| dura FEOF				{ W($2,false); }								
	| dura EOL				{ W($2); }
	| dura SX ex			{ W($3->eval()->value); }
	| dura DIRECTIVE		{ W($2); }
	| dura C				{ W($2); }
;

ex :
   	  SYM					{ $$=$1; }
	| LP ex RP				{ $$=$2; }
;
%%

