%{
#include "bI.hpp"
%}

%defines

%union {
	string *s;
	biObject *o;
}

%token <s> S

%token <s> SX QX ARROW COLON
%token <o> NUM SYM STR SIG DOT
%type <o> ex

%%
bI :
   	| bI SX ex		{ W($2); W($3->dump()); }
	| bI QX ex		{ W($2); W($3->eval()); }
	| bI ex			{ W($2->dump()); }
	| bI ARROW		{ W(" -> "); /* -> cosmetics */}
	| bI S			{ W($2); }
;

ex :
	  NUM
	| STR
	| SIG
	| DOT
	| SYM
	| ex COLON ex	{ $$=new biPair($1,$3); }
;
%%

